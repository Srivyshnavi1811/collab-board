{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ project.title }} | Project Details</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">

  <!-- Project Header -->
  <div class="mb-4 d-flex justify-content-between align-items-center">
    <div>
      <h1 class="text-primary">{{ project.title }}</h1>
      <p class="text-muted">{{ project.description }}</p>
    </div>
    <a href="{% url 'boardview' project.id %}" class="btn btn-outline-secondary">Board View</a>
  </div>

  <!-- Tasks Section -->
  <div class="mb-5">
    <div class="d-flex justify-content-between align-items-center">
      <h3>Tasks</h3>
      <a href="{% url 'create_task' project.id %}" class="btn btn-sm btn-success">+ Add Task</a>
    </div>
    <ul class="list-group mt-3">
      {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ task.title }} - <em>{{ task.status }}</em></span>
          <div>
            <a href="{% url 'edit_task' task.id %}" class="btn btn-sm btn-outline-primary me-2">Edit</a>
            <a href="{% url 'delete_task' task.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
          </div>
        </li>
      {% empty %}
        <li class="list-group-item">No tasks yet.</li>
      {% endfor %}
    </ul>
  </div>

  <!-- Notes Section -->
  <div>
    <div class="d-flex justify-content-between align-items-center">
      <h3>Notes</h3>
      <a href="{% url 'create_note' project.id %}" class="btn btn-sm btn-info text-white">+ Add Note</a>
    </div>
    <ul class="list-group mt-3">
      {% for note in notes %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ note.content }} â€” <strong>{{ note.created_by.username }}</strong></span>
          <a href="{% url 'delete_note' note.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
        </li>
      {% empty %}
        <li class="list-group-item">No notes yet.</li>
      {% endfor %}
    </ul>
  </div>

</div>

<!-- JS (optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
